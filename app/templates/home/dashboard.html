{% extends "layouts/base.html" %}

{% block title %} Home {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}

{% endblock stylesheets %}

{% block content %}


<h1 class="fw-bold mb-1 mt-2 d-flex flex-row justify-content-between">
    <div class="d-inline">
        Welcome, {{session["username"]}}
        <h4 class="fw-light mb-3">Global Analytics</h4>
    </div>
    <div class="d-flex flex-column">
        {% if isMaster %}
        <div class="fw-bold text-end me-4">MASTER</div>
        {% elif isAdmin %}
        <div class="fw-bold text-end me-4">ADMIN</div>
        {% endif %}
        
        {% if isMaster == False %}
        <h4 class="fw-light text-end me-4">{{session["userDivision"]}}</h4>
        {% endif %}
    </div>

</h1>

<div class="row mt-2">
    <!-- <div class="col-12 mb-4">
        <div class="card bg-yellow-100 border-0 shadow">
            <div class="card-header d-sm-flex flex-row align-items-center flex-0">
                <div class="d-block mb-3 mb-sm-0">
                    <div class="fs-5 fw-normal mb-2">Sales Value</div>
                    <h2 class="fs-3 fw-extrabold">$10,567</h2>
                    <div class="small mt-2">
                        <span class="fw-normal me-2">Yesterday</span>
                        <span class="fas fa-angle-up text-success"></span>
                        <span class="text-success fw-bold">10.57%</span>
                    </div>
                </div>
                <div class="d-flex ms-auto">
                    <a href="#" class="btn btn-secondary text-dark btn-sm me-2">Month</a>
                    <a href="#" class="btn btn-dark btn-sm me-3">Week</a>
                </div>
            </div>
            <div class="card-body p-2">
                <div class="ct-chart-sales-value ct-double-octave ct-series-g"></div>
            </div>
        </div>
    </div> -->

    <!-- WIND TUNNEL -->
    <div class="col mx-1 mb-4">
        <div class="card border-0 shadow">
            <div class="card-body">
                <div class="row d-block d-xl-flex align-items-center">
                    <div
                        class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                        <div class="icon-shape icon-shape-secondary rounded me-4 me-sm-0">
                            <svg class="icon" fill="currentColor" viewBox="0 0 20 20"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="d-sm-none">
                            <h2 class="h5">WT</h2>
                            <h3 class="fw-extrabold mb-1">{{ division_wind_tunnel["documentCount"] | int}}</h3>
                        </div>
                    </div>
                    <div class="col-12 col-xl-7 px-xl-0">
                        <div class="d-none d-sm-block">
                            <h2 class="h6 text-gray-400 mb-0">WT</h2>
                            <h3 class="fw-extrabold mb-1">{{ division_wind_tunnel["documentCount"] | int}}</h3>
                        </div>
                        <div class="small d-flex mt-1">
                            <div>Users: <span class="text-success fw-bolder">{{ division_wind_tunnel["userCount"]
                                    | int}}</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- HSTT -->
    <div class="col mx-1 mb-4">
        <div class="card border-0 shadow">
            <div class="card-body">
                <div class="row d-block d-xl-flex align-items-center">
                    <div
                        class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                        <div class="icon-shape icon-shape-tertiary rounded me-4 me-sm-0">
                            <svg class="icon" fill="currentColor" viewBox="0 0 20 20"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="d-sm-none">
                            <h2 class="fw-extrabold h5">HSTT</h2>
                            <h3 class="mb-1 text_center">{{ division_hstt["documentCount"] | int }}</h3>
                        </div>
                    </div>
                    <div class="col-12 col-xl-7 px-xl-0">
                        <div class="d-none d-sm-block">
                            <h2 class="h6 text-gray-400 mb-0">HSTT</h2>
                            <h3 class="fw-extrabold mb-1">{{ division_hstt["documentCount"] | int }}</h3>
                        </div>
                        <div class="small d-flex mt-1">
                            <div>Users: <span class="text-success fw-bolder">{{ division_hstt["userCount"]
                                    | int }}</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- SMB -->
    <div class="col mx-1 mb-4">
        <div class="card border-0 shadow">
            <div class="card-body">
                <div class="row d-block d-xl-flex align-items-center">
                    <div
                        class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                        <div class="icon-shape icon-shape-secondary rounded me-4 me-sm-0">
                            <svg class="icon" fill="currentColor" viewBox="0 0 20 20"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="d-sm-none">
                            <h2 class="fw-extrabold h5">SMB</h2>
                            <h3 class="mb-1">{{ division_smb["documentCount"] | int}}</h3>
                        </div>
                    </div>
                    <div class="col-12 col-xl-7 px-xl-0">
                        <div class="d-none d-sm-block">
                            <h2 class="h6 text-gray-400 mb-0">SMB</h2>
                            <h3 class="fw-extrabold mb-1">{{ division_smb["documentCount"] | int}}</h3>
                        </div>
                        <div class="small d-flex mt-1">
                            <div>Users: <span class="text-success fw-bolder">{{ division_smb["userCount"] | int}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- CT -->
    <div class="col mx-1 mb-4">
        <div class="card border-0 shadow">
            <div class="card-body">
                <div class="row d-block d-xl-flex align-items-center">
                    <div
                        class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                        <div class="icon-shape icon-shape-tertiary rounded me-4 me-sm-0">
                            <svg class="icon" fill="currentColor" viewBox="0 0 20 20"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="d-sm-none">
                            <h2 class="fw-extrabold h5">CT</h2>
                            <h3 class="mb-1">{{ division_ct["documentCount"] | int}}</h3>
                        </div>
                    </div>
                    <div class="col-12 col-xl-7 px-xl-0">
                        <div class="d-none d-sm-block">
                            <h2 class="h6 text-gray-400 mb-0">CT</h2>
                            <h3 class="fw-extrabold mb-1">{{ division_ct["documentCount"] | int}}</h3>
                        </div>
                        <div class="small d-flex mt-1">
                            <div>Users: <span class="text-success fw-bolder">{{ division_ct["userCount"] | int}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- CFD -->
    <div class="col mx-1 mb-4">
        <div class="card border-0 shadow">
            <div class="card-body">
                <div class="row d-block d-xl-flex align-items-center">
                    <div
                        class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                        <div class="icon-shape icon-shape-secondary rounded me-4 me-sm-0">
                            <svg class="icon" fill="currentColor" viewBox="0 0 20 20"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="d-sm-none">
                            <h2 class="fw-extrabold h5">CFD</h2>
                            <h3 class="mb-1">{{ division_cfd["documentCount"] | int}}</h3>
                        </div>
                    </div>
                    <div class="col-12 col-xl-7 px-xl-0">
                        <div class="d-none d-sm-block">
                            <h2 class="h6 text-gray-400 mb-0">CFD</h2>
                            <h3 class="fw-extrabold mb-1">{{ division_cfd["documentCount"] | int}}</h3>
                        </div>
                        <div class="small d-flex mt-1">
                            <div>Users: <span class="text-success fw-bolder">{{ division_cfd["userCount"] | int}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- LCT -->
    <div class="col mx-1 mb-4">
        <div class="card border-0 shadow">
            <div class="card-body">
                <div class="row d-block d-xl-flex align-items-center">
                    <div
                        class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                        <div class="icon-shape icon-shape-tertiary rounded me-4 me-sm-0">
                            <svg class="icon" fill="currentColor" viewBox="0 0 20 20"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="d-sm-none">
                            <h2 class="fw-extrabold h5">LCT</h2>
                            <h3 class="mb-1">{{ division_lct["documentCount"] | int}}</h3>
                        </div>
                    </div>
                    <div class="col-12 col-xl-7 px-xl-0">
                        <div class="d-none d-sm-block">
                            <h2 class="h6 text-gray-400 mb-0">LCT</h2>
                            <h3 class="fw-extrabold mb-1">{{ division_lct["documentCount"] | int}}</h3>
                        </div>
                        <div class="small d-flex mt-1">
                            <div>Users: <span class="text-success fw-bolder">{{ division_lct["userCount"] | int}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- RESOURCES -->
    <div class="col mx-1 mb-4">
        <div class="card border-0 shadow">
            <div class="card-body">
                <div class="row d-block d-xl-flex align-items-center">
                    <div
                        class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                        <div class="icon-shape icon-shape-secondary rounded me-4 me-sm-0">
                            <svg class="icon" fill="currentColor" viewBox="0 0 20 20"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="d-sm-none">
                            <h2 class="fw-extrabold h5">Resources</h2>
                            <h3 class="mb-1">{{ total_common_document_count | int}}</h3>
                        </div>
                    </div>
                    <div class="col-12 col-xl-7 px-xl-0">
                        <div class="d-none d-sm-block">
                            <h2 class="h6 text-gray-400 mb-0">Resources</h2>
                            <h3 class="fw-extrabold mb-1">{{ total_common_document_count | int}}</h3>
                        </div>
                        <div class="small d-flex mt-1">
                            <div>-
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row mb-2">
    <!-- CAROUSEL - FOR DIVISIONS -->
    <div id="carouselExampleIndicators" class="carousel carousel-dark slide col-12 col-xl-8 d-flex flex-row align-items-center" data-bs-ride="carousel">
        <!-- <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div> -->

        <!-- GRAPH CONTENT -->
        <div class="carousel-inner">

            <!-- WT -->
            <div class="carousel-item active">
                <div class="card bg-white-100 shadow mx-auto" style="width: 80%;">
                    <div class="card-header d-sm-flex flex-row align-items-center flex-0">
                        <div class="d-block mb-3 mb-sm-0">
                            <div class="fs-5 fw-normal mb-2">WT</div>
                            <h2 class="fs-3 fw-extrabold">{{ division_wind_tunnel["documentCount"] | int }}</h2>
                            <!-- <div class="small mt-2">
                                <span class="fw-normal me-2">Yesterday</span>
                                <span class="fas fa-angle-up text-success"></span>
                                <span class="text-success fw-bold">2</span>
                            </div> -->
                        </div>
                        <div class="d-flex ms-auto">
                            <button class="btn btn-secondary text-dark btn-sm me-2" id="month-wt">Month</button>
                            <button class="btn btn-sm btn-outline-secondary me-2" id="year-wt">Published Year</button>
                        </div>
                    </div>
                    <div class="card-body p-2">
                        <div class="ct-chart-wt ct-double-octave ct-series-g"></div>
                    </div>
                </div>
            </div>

            <!-- HSTT -->
            <div class="carousel-item">
                <div class="card bg-white-100 shadow mx-auto" style="width: 80%;">
                    <div class="card-header d-sm-flex flex-row align-items-center flex-0">
                        <div class="d-block mb-3 mb-sm-0">
                            <div class="fs-5 fw-normal mb-2">HSTT</div>
                            <h2 class="fs-3 fw-extrabold">{{ division_hstt["documentCount"] | int }}</h2>
                        </div>
                        <div class="d-flex ms-auto">
                            <a href="#" class="btn btn-secondary text-dark btn-sm me-2" id="month-hstt">Month</a>
                            <a href="#" class="btn btn-sm btn-outline-secondary me-2" id="year-hstt">Published Year</a>
                        </div>
                    </div>
                    <div class="card-body p-2">
                        <div class="ct-chart-hstt ct-double-octave ct-series-g"></div>
                    </div>
                </div>
            </div>

            <!-- SMB -->            
            <div class="carousel-item">
                <div class="card bg-white-100 shadow mx-auto" style="width: 80%;">
                    <div class="card-header d-sm-flex flex-row align-items-center flex-0">
                        <div class="d-block mb-3 mb-sm-0">
                            <div class="fs-5 fw-normal mb-2">SMB</div>
                            <h2 class="fs-3 fw-extrabold">{{ division_smb["documentCount"] | int }}</h2>
                        </div>
                        <div class="d-flex ms-auto">
                            <a href="#" class="btn btn-secondary text-dark btn-sm me-2" id="month-smb">Month</a>
                            <a href="#" class="btn btn-sm btn-outline-secondary me-2" id="year-smb">Published Year</a>
                        </div>
                    </div>
                    <div class="card-body p-2">
                        <div class="ct-chart-smb ct-double-octave ct-series-g"></div>
                    </div>
                </div>
            </div>

            <!-- CT -->
            <div class="carousel-item">
                <div class="card bg-white-100 shadow mx-auto" style="width: 80%;">
                    <div class="card-header d-sm-flex flex-row align-items-center flex-0">
                        <div class="d-block mb-3 mb-sm-0">
                            <div class="fs-5 fw-normal mb-2">CT</div>
                            <h2 class="fs-3 fw-extrabold">{{ division_ct["documentCount"] | int }}</h2>
                            <!-- <div class="small mt-2">
                                <span class="fw-normal me-2">Yesterday</span>
                                <span class="fas fa-angle-up text-success"></span>
                                <span class="text-success fw-bold">2</span>
                            </div> -->
                        </div>
                        <div class="d-flex ms-auto">
                            <a href="#" class="btn btn-secondary text-dark btn-sm me-2" id="month-ct">Month</a>
                            <a href="#" class="btn btn-sm btn-outline-secondary me-2" id="year-ct">Published Year</a>
                        </div>
                    </div>
                    <div class="card-body p-2">
                        <div class="ct-chart-ct ct-double-octave ct-series-g"></div>
                    </div>
                </div>
            </div>

            <!-- CFD -->
            <div class="carousel-item">
                <div class="card bg-white-100 shadow mx-auto" style="width: 80%;">
                    <div class="card-header d-sm-flex flex-row align-items-center flex-0">
                        <div class="d-block mb-3 mb-sm-0">
                            <div class="fs-5 fw-normal mb-2">CFD</div>
                            <h2 class="fs-3 fw-extrabold">{{ division_cfd["documentCount"] | int }}</h2>
                            <!-- <div class="small mt-2">
                                <span class="fw-normal me-2">Yesterday</span>
                                <span class="fas fa-angle-up text-success"></span>
                                <span class="text-success fw-bold">2</span>
                            </div> -->
                        </div>
                        <div class="d-flex ms-auto">
                            <a href="#" class="btn btn-secondary text-dark btn-sm me-2" id="month-cfd">Month</a>
                            <a href="#" class="btn btn-sm btn-outline-secondary me-2" id="year-cfd">Published Year</a>
                        </div>
                    </div>
                    <div class="card-body p-2">
                        <div class="ct-chart-cfd ct-double-octave ct-series-g"></div>
                    </div>
                </div>
            </div>

            <!-- LCT -->
            <div class="carousel-item">
                <div class="card bg-white-100 shadow mx-auto" style="width: 80%;">
                    <div class="card-header d-sm-flex flex-row align-items-center flex-0">
                        <div class="d-block mb-3 mb-sm-0">
                            <div class="fs-5 fw-normal mb-2">LCT</div>
                            <h2 class="fs-3 fw-extrabold">{{ division_lct["documentCount"] | int }}</h2>
                            <!-- <div class="small mt-2">
                                <span class="fw-normal me-2">Yesterday</span>
                                <span class="fas fa-angle-up text-success"></span>
                                <span class="text-success fw-bold">2</span>
                            </div> -->
                        </div>
                        <div class="d-flex ms-auto">
                            <a href="#" class="btn btn-secondary text-dark btn-sm me-2" id="month-lct">Month</a>
                            <a href="#" class="btn btn-sm btn-outline-secondary me-2" id="year-lct">Published Year</a>
                        </div>
                    </div>
                    <div class="card-body p-2">
                        <div class="ct-chart-lct ct-double-octave ct-series-g"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- NEXT AND PREVIOUS BUTTONS -->
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
          <span class="" aria-hidden="true" style="color: black;">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"/>
              </svg>
          </span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
          <span class="" aria-hidden="true" style="color: black;">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
            class="bi bi-arrow-right" viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                    d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8" />
            </svg>
        </span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    
    <div class="col-12 col-xl-4 d-flex align-items-center">
        <div class="card h-100 w-100">
            <div class="card-body p-0">
                <div id="slideshow_carousel" class="carousel slide carousel-dark h-100" data-bs-ride="carousel" style="height: 300px">
                    <div class="carousel-inner h-100 rounded">
                        {% for i in range(slideshowImagesLen) %}
                        <div class="carousel-item {% if i == 0 %}active{% endif %} h-100">
                            <img src="{{ url_for('dashboard.serve_slideshow_images', file_id=slideshowImages[i]['gridfs_id']) }}" class="img-fluid d-block w-100 h-100 object-fit-cover" style="object-fit: cover; object-position: center;">
                        </div>        
                        {% endfor %}
                        

                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#slideshow_carousel" data-bs-slide="prev">
                        <span aria-hidden="true">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"/>
                            </svg>
                        </span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#slideshow_carousel" data-bs-slide="next">
                        <span aria-hidden="true">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"/>
                            </svg>
                        </span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
      
    <!-- TOTAL DOCUMENTS -->
    <!-- <div class="col-12 col-xl-4 mb-4">

        <div class="card border-0 shadow">
            <div class="card-header d-flex flex-row align-items-center flex-0 border-bottom">
                <div class="d-block">
                    <div class="h6 fw-normal text-gray">Total Documents</div>
                    <h2 class="h3 fw-extrabold">11</h2>
                    <div class="small mt-2">
                        <span class="fas fa-angle-up text-success"></span>
                    </div>
                </div>
                <div class="d-block ms-auto">
                    <div class="d-flex align-items-center text-end">
                        <span class="dot rounded-circle bg-gray-800 me-2"></span>
                        <span class="fw-normal small">July</span>
                    </div>
                    <div class="d-flex align-items-center text-end">
                        <span class="dot rounded-circle bg-secondary me-2"></span>
                        <span class="fw-normal small">August</span>
                    </div>
                </div>
            </div>
            <div class="card-body p-2">
                <div class="ct-chart-ranking ct-golden-section ct-series-a"></div>
            </div>
        </div>

    </div> -->

    <!-- CAROUSEL - FOR IMAGES -->

</div>

<div class="row mt-4">
    <div class="col-12">
        <div class="row">

            <!-- LATEST GLOBAL UPLOADS -->
            <div class="col-12">
                <div class="card border-0 shadow">
                    <div class="card-header">
                        <div class="row align-items-center">
                            <div class="col">
                                <h2 class="fs-5 fw-bold mb-0">Latest Global Uploads</h2>
                            </div>
                            <div class="col text-end">
                                <a href="{{ url_for('documents.search') }}" class="btn btn-sm btn-primary">See all</a>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table align-items-center table-flush">
                            <thead class="thead-light">
                                <tr>
                                    <th class="border-bottom" scope="col">Uploaded At</th>
                                    <th class="border-bottom" scope="col">Doc ID</th>
                                    <th class="border-bottom" scope="col">Title</th>
                                    <th class="border-bottom" scope="col">Author</th>
                                    <th class="border-bottom" scope="col">Division</th>
                                    <th class="border-bottom" scope="col">Report Type</th>
                                    <th class="border-bottom" scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for document in latestGlobalUploads %}
                                <tr>
                                    <td class="fw-bolder text-gray-500">
                                        {{ document["uploaded_at"].strftime("%d/%m/%Y") }}
                                    </td>

                                    {% if document["document_number"] == "" %}
                                    <td class="fw-bolder text-gray-500">
                                        -
                                    </td>
                                    {% else %}
                                    <td class="fw-bolder text-gray-500">
                                        {{ document["document_number"] }}
                                    </td>
                                    {% endif %}


                                    <th class="text-gray-900 text-truncate" style="max-width: 150px" scope="row">
                                        {{ document["title"] }}
                                    </th>
                                    <td class="fw-bolder text-gray-500">
                                        {{ document["author"] }}
                                    </td>
                                    <td class="fw-bolder text-gray-500">
                                        {{ document["division"] }}
                                    </td>
                                    <td class="fw-bolder text-gray-500">
                                        {{ document["reportType"] }}
                                    </td>
                                    <td class="fw-bolder">

                                        <a class="animate-up-2" href="{{url_for(
                                            'documents.details',
                                            id=document['_id']
                                            )
                                        }}"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                                                <path fill-rule="evenodd"
                                                    d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8" />
                                            </svg></a>

                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- 
            <div class="col-12 col-xxl-4 mb-4">
                <div class="card border-0 shadow">
                    <div class="card-header d-flex flex-row align-items-center flex-0 border-bottom">
                        <div class="d-block">
                            <div class="h6 fw-normal text-gray mb-2">Total orders</div>
                            <h2 class="h3 fw-extrabold">452</h2>
                            <div class="small mt-2">
                                <span class="fas fa-angle-up text-success"></span>
                                <span class="text-success fw-bold">18.2%</span>
                            </div>
                        </div>
                        <div class="d-block ms-auto">
                            <div class="d-flex align-items-center text-end mb-2">
                                <span class="dot rounded-circle bg-gray-800 me-2"></span>
                                <span class="fw-normal small">July</span>
                            </div>
                            <div class="d-flex align-items-center text-end">
                                <span class="dot rounded-circle bg-secondary me-2"></span>
                                <span class="fw-normal small">August</span>
                            </div>
                        </div>
                    </div>
                    <div class="card-body p-2">
                        <div class="ct-chart-ranking ct-golden-section ct-series-a"></div>
                    </div>
                </div>
            </div> -->
            <!-- <div class="col-12 col-xxl-6 mb-4">
                <div class="card border-0 shadow">
                    <div class="card-header border-bottom d-flex align-items-center justify-content-between">
                        <h2 class="fs-5 fw-bold mb-0">Team members</h2>
                        <a href="#" class="btn btn-sm btn-primary">See all</a>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush list my--3">
                            <li class="list-group-item px-0">
                                <div class="row align-items-center">
                                    <div class="col-auto">

                                        <a href="#" class="avatar">
                                            <img class="rounded" alt="Image placeholder"
                                                src="/static/assets/img/team/profile-picture-1.jpg">
                                        </a>
                                    </div>
                                    <div class="col-auto ms--2">
                                        <h4 class="h6 mb-0">
                                            <a href="#">Chris Wood</a>
                                        </h4>
                                        <div class="d-flex align-items-center">
                                            <div class="bg-success dot rounded-circle me-1"></div>
                                            <small>Online</small>
                                        </div>
                                    </div>
                                    <div class="col text-end">
                                        <a href="#" class="btn btn-sm btn-secondary d-inline-flex align-items-center">
                                            <svg class="icon icon-xxs me-2" fill="currentColor" viewBox="0 0 20 20"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd"
                                                    d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
                                                    clip-rule="evenodd"></path>
                                            </svg>
                                            Invite
                                        </a>
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item px-0">
                                <div class="row align-items-center">
                                    <div class="col-auto">

                                        <a href="#" class="avatar">
                                            <img class="rounded" alt="Image placeholder"
                                                src="/static/assets/img/team/profile-picture-2.jpg">
                                        </a>
                                    </div>
                                    <div class="col-auto ms--2">
                                        <h4 class="h6 mb-0">
                                            <a href="#">Jose Leos</a>
                                        </h4>
                                        <div class="d-flex align-items-center">
                                            <div class="bg-warning dot rounded-circle me-1"></div>
                                            <small>In a meeting</small>
                                        </div>
                                    </div>
                                    <div class="col text-end">
                                        <a href="#" class="btn btn-sm btn-secondary d-inline-flex align-items-center">
                                            <svg class="icon icon-xxs me-2" fill="currentColor" viewBox="0 0 20 20"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd"
                                                    d="M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z"
                                                    clip-rule="evenodd"></path>
                                            </svg>
                                            Message
                                        </a>
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item px-0">
                                <div class="row align-items-center">
                                    <div class="col-auto">

                                        <a href="#" class="avatar">
                                            <img class="rounded" alt="Image placeholder"
                                                src="/static/assets/img/team/profile-picture-3.jpg">
                                        </a>
                                    </div>
                                    <div class="col-auto ms--2">
                                        <h4 class="h6 mb-0">
                                            <a href="#">Bonnie Green</a>
                                        </h4>
                                        <div class="d-flex align-items-center">
                                            <div class="bg-danger dot rounded-circle me-1"></div>
                                            <small>Offline</small>
                                        </div>
                                    </div>
                                    <div class="col text-end">
                                        <a href="#" class="btn btn-sm btn-secondary d-inline-flex align-items-center">
                                            <svg class="icon icon-xxs me-2" fill="currentColor" viewBox="0 0 20 20"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd"
                                                    d="M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z"
                                                    clip-rule="evenodd"></path>
                                            </svg>
                                            Message
                                        </a>
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item px-0">
                                <div class="row align-items-center">
                                    <div class="col-auto">

                                        <a href="#" class="avatar">
                                            <img class="rounded" alt="Image placeholder"
                                                src="/static/assets/img/team/profile-picture-4.jpg">
                                        </a>
                                    </div>
                                    <div class="col-auto ms--2">
                                        <h4 class="h6 mb-0">
                                            <a href="#">Neil Sims</a>
                                        </h4>
                                        <div class="d-flex align-items-center">
                                            <div class="bg-danger dot rounded-circle me-1"></div>
                                            <small>Offline</small>
                                        </div>
                                    </div>
                                    <div class="col text-end">
                                        <a href="#" class="btn btn-sm btn-secondary d-inline-flex align-items-center">
                                            <svg class="icon icon-xxs me-2" fill="currentColor" viewBox="0 0 20 20"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd"
                                                    d="M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z"
                                                    clip-rule="evenodd"></path>
                                            </svg>
                                            Message
                                        </a>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div> -->
            <!-- <div class="col-12 col-xxl-6 mb-4">
                <div class="card border-0 shadow">
                    <div class="card-header border-bottom d-flex align-items-center justify-content-between">
                        <h2 class="fs-5 fw-bold mb-0">Progress track</h2>
                        <a href="#" class="btn btn-sm btn-primary">See tasks</a>
                    </div>
                    <div class="card-body">

                        <div class="row mb-4">
                            <div class="col-auto">
                                <svg class="icon icon-sm text-gray-500" fill="currentColor" viewBox="0 0 20 20"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                    <path fill-rule="evenodd"
                                        d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z"
                                        clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <div class="col">
                                <div class="progress-wrapper">
                                    <div class="progress-info">
                                        <div class="h6 mb-0">Rocket - SaaS Template</div>
                                        <div class="small fw-bold text-gray-500"><span>75 %</span></div>
                                    </div>
                                    <div class="progress mb-0">
                                        <div class="progress-bar bg-success" role="progressbar" aria-valuenow="75"
                                            aria-valuemin="0" aria-valuemax="100" style="width: 75%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row align-items-center mb-4">
                            <div class="col-auto">
                                <svg class="icon icon-sm text-gray-500" fill="currentColor" viewBox="0 0 20 20"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                    <path fill-rule="evenodd"
                                        d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z"
                                        clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <div class="col">
                                <div class="progress-wrapper">
                                    <div class="progress-info">
                                        <div class="h6 mb-0">Themesberg - Design System</div>
                                        <div class="small fw-bold text-gray-500"><span>60 %</span></div>
                                    </div>
                                    <div class="progress mb-0">
                                        <div class="progress-bar bg-success" role="progressbar" aria-valuenow="60"
                                            aria-valuemin="0" aria-valuemax="100" style="width: 60%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row align-items-center mb-4">
                            <div class="col-auto">
                                <svg class="icon icon-sm text-gray-500" fill="currentColor" viewBox="0 0 20 20"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                    <path fill-rule="evenodd"
                                        d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z"
                                        clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <div class="col">
                                <div class="progress-wrapper">
                                    <div class="progress-info">
                                        <div class="h6 mb-0">Homepage Design in Figma</div>
                                        <div class="small fw-bold text-gray-500"><span>45 %</span></div>
                                    </div>
                                    <div class="progress mb-0">
                                        <div class="progress-bar bg-warning" role="progressbar" aria-valuenow="45"
                                            aria-valuemin="0" aria-valuemax="100" style="width: 45%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row align-items-center mb-3">
                            <div class="col-auto">
                                <svg class="icon icon-sm text-gray-500" fill="currentColor" viewBox="0 0 20 20"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                    <path fill-rule="evenodd"
                                        d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z"
                                        clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <div class="col">
                                <div class="progress-wrapper">
                                    <div class="progress-info">
                                        <div class="h6 mb-0">Backend for Themesberg v2</div>
                                        <div class="small fw-bold text-gray-500"><span>34 %</span></div>
                                    </div>
                                    <div class="progress mb-0">
                                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="34"
                                            aria-valuemin="0" aria-valuemax="100" style="width: 34%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> -->
        </div>
    </div>
</div>


<!-- GLOBAL ANALYTICS -->
<h2 class="fw-normal mt-4">Personal Analytics</h2>


<div class="row mt-3">

    <!-- SEARCH HISTORY -->
    <div class="col-md-12 mb-4">
        <div class="card border-0 shadow">
            <div class="card-header">
                <div class="row align-items-center">
                    <div class="col">
                        <h2 class="fs-5 fw-bold mb-0">Search History</h2>
                    </div>
                    <div class="col text-end">
                        <a href="{{ url_for('documents.searchHistory') }}" class="btn btn-sm btn-primary">See all</a>
                    </div>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table align-items-center table-flush">
                    <thead class="thead-light">
                        <tr>
                            <th class="border-bottom" scope="col">Doc ID</th>
                            <th class="border-bottom" scope="col">Title</th>
                            <th class="border-bottom" scope="col">Author</th>
                            <th class="border-bottom" scope="col">Division</th>
                            <th class="border-bottom" scope="col">Report Type</th>
                            <th class="border-bottom" scope="col">Continue</th>
                        </tr>
                    </thead>
                    <tbody>

                        {% for document in searchHistory %}
                        <tr>
                            {% if document["document_details"]["document_number"] == "" %}
                            <th class="text-gray-900" scope="row">-</th>
                            {% else %}
                            <th class="text-gray-900" scope="row">{{ document["document_details"]["document_number"] }}
                            </th>
                            {% endif %}

                            <td class="fw-bolder text-gray-600 text-truncate" style="max-width: 300px;">
                                {{ document["document_details"]["title"] }}
                            </td>
                            <td class="fw-bolder text-gray-500">
                                {{ document["document_details"]["author"] }}
                            </td>
                            <td class="fw-bolder text-gray-500">
                                {{ document["document_details"]["division"] }}
                            </td>
                            <td class="fw-bolder text-gray-500">
                                {{ document["document_details"]["reportType"] }}
                            </td>
                            <td class="fw-bolder">

                                <a class="animate-up-2" href="{{url_for(
                                    'documents.details',
                                    id=document['document_id']
                                    )
                                }}"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                        class="bi bi-arrow-right" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd"
                                            d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8" />
                                    </svg></a>

                            </td>
                        </tr>
                        {% endfor %}




                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Pending Approval -->
    {% if isAdmin or isMaster%}
    <!-- <div class="col-md-6 mb-4">
        <div class="card border-0 shadow">
            <div class="card-header">
                <div class="row align-items-center">
                    <div class="col">
                        <h2 class="fs-5 fw-bold mb-0">Pending Approval</h2>
                    </div>
                    <div class="col text-end">
                        <a href="#" class="btn btn-sm btn-primary">See all</a>
                    </div>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table align-items-center table-flush">
                    <thead class="thead-light">
                        <tr>
                            <th class="border-bottom" scope="col">Title</th>
                            <th class="border-bottom" scope="col">Uploaded By</th>
                            <th class="border-bottom" scope="col">Uploaded At</th>
                            <th class="border-bottom" scope="col">Action</th>
                        </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
            </div>
        </div>
    </div> -->
    {% endif %}

    <!-- DATABASE LOGS -->
    {% if isAdmin or isMaster%}
    <!-- <div class="col-md-6 mb-4">
        <div class="card border-0 shadow">
            <div class="card-header">
                <div class="row align-items-center">
                    <div class="col">
                        <h2 class="fs-5 fw-bold mb-0">Database Logs</h2>
                    </div>
                    <div class="col text-end">
                        <a href="#" class="btn btn-sm btn-primary">See all</a>
                    </div>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table align-items-center table-flush">
                    <thead class="thead-light">
                        <tr>
                            <th class="border-bottom" scope="col">Title</th>
                            <th class="border-bottom" scope="col">Uploaded By</th>
                            <th class="border-bottom" scope="col">Uploaded At</th>
                            <th class="border-bottom" scope="col">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    </div> -->
    {% endif %}

    <!-- PAST UPLOADS -->
    <div class="col-md-12 mb-4">
        <div class="card border-0 shadow">
            <div class="card-header">
                <div class="row align-items-center">
                    <div class="col">
                        <h2 class="fs-5 fw-bold mb-0">Past Uploads</h2>
                    </div>
                    <div class="col text-end">
                        <a href="{{ url_for('documents.upload') }}" class="btn btn-sm btn-primary">See all</a>
                    </div>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table align-items-center table-flush">
                    <thead class="thead-light">
                        <tr>
                            <th class="border-bottom" scope="col">Uploaded At</th>
                            <th class="border-bottom" scope="col">Doc ID</th>
                            <th class="border-bottom" scope="col">Title</th>
                            <th class="border-bottom" scope="col">Year</th>
                            <th class="border-bottom" scope="col">Author</th>
                            <th class="border-bottom" scope="col">Division</th>
                            <th class="border-bottom" scope="col">Report Type</th>
                            <th class="border-bottom" scope="col">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for document in pastUploads %}
                        <tr>
                            <th class="text-gray-900" scope="row">
                                {{ document["uploaded_at"].strftime("%d/%m/%Y") }}
                            </th>
                            {% if document["document_number"] == "" %}
                            <td class="fw-bolder text-gray-500">
                                -
                            </td>
                            {% else %}
                            <td class="fw-bolder text-gray-500">
                                {{ document["document_number"] }}
                            </td>
                            {% endif %}

                            <td class="fw-bolder text-gray-600 text-truncate" style="max-width: 300px">
                                {{ document["title"] }}
                            </td>
                            <td class="fw-bolder text-gray-500">
                                {{ document["year"] }}
                            </td>
                            <td class="fw-bolder text-gray-500">
                                {{ document["author"] }}
                            </td>
                            <td class="fw-bolder text-gray-500">
                                {{ document["division"] }}
                            </td>
                            <td class="fw-bolder text-gray-500">
                                {{ document["reportType"] }}
                            </td>
                            <td class="fw-bolder">

                                <a class="animate-up-2" href="{{url_for(
                                    'documents.details',
                                    id=document['_id']
                                    )
                                }}"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                        class="bi bi-arrow-right" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd"
                                            d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8" />
                                    </svg></a>

                            </td>
                            <!-- <td class="fw-bolder text-gray-500">
                                <div class="d-flex">
                                    <svg class="icon icon-xs text-danger me-2" fill="currentColor" viewBox="0 0 20 20"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                            d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z"
                                            clip-rule="evenodd"></path>
                                    </svg>
                                    42,55%
                                </div>
                            </td> -->
                        </tr>

                        {% endfor %}

                        <!-- <tr>
                            <th class="text-gray-900" scope="row">
                                /demo/admin/index.html
                            </th>
                            <td class="fw-bolder text-gray-500">
                                3,225
                            </td>
                            <td class="fw-bolder text-gray-500">
                                $20
                            </td>
                            <td class="fw-bolder text-gray-500">
                                <div class="d-flex">
                                    <svg class="icon icon-xs text-danger me-2" fill="currentColor" viewBox="0 0 20 20"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                            d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z"
                                            clip-rule="evenodd"></path>
                                    </svg>
                                    42,55%
                                </div>
                            </td>
                        </tr> -->

                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- <div class="row mt4">
        <div class="col mx-1 mb-4">
            <div class="card border-0 shadow">
                <div class="card-body">
                    <div class="row d-block d-xl-flex align-items-center">
                        <div
                            class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                            <div class="icon-shape icon-shape-primary rounded me-4 me-sm-0">
                                <svg class="icon" fill="currentColor" viewBox="0 0 20 20"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z">
                                    </path>
                                </svg>
                            </div>
                            <div class="d-sm-none">
                                <h2 class="h5">Wind Tunnel</h2>
                                <h3 class="fw-extrabold mb-1">{{ division_wind_tunnel["document_count"] }}</h3>
                            </div>
                        </div>
                        <div class="col-12 col-xl-7 px-xl-0">
                            <div class="d-none d-sm-block">
                                <h2 class="h6 text-gray-400 mb-0">Wind Tunnel</h2>
                                <h3 class="fw-extrabold mb-1">{{ division_wind_tunnel["document_count"] }}</h3>
                            </div>
                            <div class="small d-flex mt-1">
                                <div># of users: <span class="text-success fw-bolder">22</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    <div class="col mx-1 mb-4">
        <div class="card border-0 shadow">
            <div class="card-body">
                <div class="row d-block d-xl-flex align-items-center">
                    <div
                        class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                        <div class="icon-shape icon-shape-secondary rounded me-4 me-sm-0">
                            <svg class="icon" fill="currentColor" viewBox="0 0 20 20"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="d-sm-none">
                            <h2 class="fw-extrabold h5">HSTT</h2>
                            <h3 class="mb-1 text_center">{{ division_hstt["document_count"] }}</h3>
                        </div>
                    </div>
                    <div class="col-12 col-xl-7 px-xl-0">
                        <div class="d-none d-sm-block">
                            <h2 class="h6 text-gray-400 mb-0">HSTT</h2>
                            <h3 class="fw-extrabold mb-1">{{ division_hstt["document_count"] }}</h3>
                        </div>
                        <div class="small d-flex mt-1">
                            <div># of users: <span class="text-success fw-bolder">22</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="col mx-1 mb-4">
        <div class="card border-0 shadow">
            <div class="card-body">
                <div class="row d-block d-xl-flex align-items-center">
                    <div
                        class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                        <div class="icon-shape icon-shape-tertiary rounded me-4 me-sm-0">
                            <svg class="icon" fill="currentColor" viewBox="0 0 20 20"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="d-sm-none">
                            <h2 class="fw-extrabold h5">SMB</h2>
                            <h3 class="mb-1">{{ division_smb["document_count"] }}</h3>
                        </div>
                    </div>
                    <div class="col-12 col-xl-7 px-xl-0">
                        <div class="d-none d-sm-block">
                            <h2 class="h6 text-gray-400 mb-0">SMB</h2>
                            <h3 class="fw-extrabold mb-1">{{ division_smb["document_count"] }}</h3>
                        </div>
                        <div class="small d-flex mt-1">
                            <div># of users: <span class="text-success fw-bolder">22</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> -->

</div>



{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
    // Initialize carousels
    var myCarousel = new bootstrap.Carousel(document.querySelector('#carouselExampleIndicators'), {
        interval: 10000
    });
    var imageCarousel = new bootstrap.Carousel(document.querySelector('#slideshow_carousel'), {
        interval: 10000
    });

    // Chartist data and options
    const wt_data = {
        labels: {{chosen_months_alphabet|tojson}},
        series: [
        {{wind_tunnel_monthly_uploads|tojson}},
        ]
    };

    const cfd_data = {
        labels: {{chosen_months_alphabet|tojson}},
        series: [
        {{cfd_monthly_uploads|tojson}},
        ]
    };

    const smb_data = {
        labels: {{chosen_months_alphabet|tojson}},
        series: [
        {{smb_monthly_uploads|tojson}},
        ]
    }

    const hstt_data = {
        labels: {{chosen_months_alphabet|tojson}},
        series: [
        {{hstt_monthly_uploads|tojson}},
        ]
    }

    const ct_data = {
        labels: {{chosen_months_alphabet|tojson}},
        series: [
        {{ct_monthly_uploads|tojson}},
        ]
    }

    const lct_data = {
        labels: {{chosen_months_alphabet|tojson}},
        series: [
        {{lct_monthly_uploads|tojson}},
        ]
    }

    // Yearly data
    const wt_data_year = {
        labels: {{choosen_years|tojson}},
        series: [
        {{wt_uploads_by_year|tojson}},
        ]
    };

    const cfd_data_year = {
        labels: {{choosen_years|tojson}},
        series: [
        {{cfd_uploads_by_year|tojson}},
        ]
    };

    const smb_data_year = {
        labels: {{choosen_years|tojson}},
        series: [
        {{smb_uploads_by_year|tojson}},
        ]
    }

    const hstt_data_year = {
        labels: {{choosen_years|tojson}},
        series: [
        {{hstt_uploads_by_year|tojson}},
        ]
    }

    const ct_data_year = {
        labels: {{choosen_years|tojson}},
        series: [
        {{ct_uploads_by_year|tojson}},
        ]
    }

    const lct_data_year = {
        labels: {{choosen_years|tojson}},
        series: [
        {{lct_uploads_by_year|tojson}},
        ]
    }

    const options = {
        low: 0,
        showArea: true,
        fullWidth: true,
        chartPadding: {
        right: 20
        },
        lineSmooth: Chartist.Interpolation.none(),
        plugins: [
            Chartist.plugins.tooltip()
        ]

    };
    const options_bar = {
        axisX: {
            showGrid: false, // Hide vertical grid lines
        },
        axisY: {
            onlyInteger: true, // Show only integers on Y-axis
        },
        low: 0,
        fullWidth: true,
        chartPadding: {
            right: 30,
        },
        lineSmooth: false,
        seriesBarDistance: 10,
        plugins: [
            Chartist.plugins.tooltip()
        ]
    };

    // CSS for sharp, thick bars
    const chartStyle = `
    .ct-bar {
        stroke-width: 25px;   /* Thicker bar width */
        stroke-linecap: square; /* Sharp edges */
    }
    `;
    const styleSheet = document.createElement("style");
    styleSheet.type = "text/css";
    styleSheet.innerText = chartStyle;
    document.head.appendChild(styleSheet);

    function animateChart(chart) {
        chart.on('draw', function(data) {
            // Only animate non-zero bars
            if (data.type === 'bar') {

                // Skip drawing for zero values
                if (data.value.y === 0) {
                    data.element.remove();
                    return; // Exit the function early
                }

                // Animate non-zero bars with bounce effect and fade-in
                data.element.attr({
                    style: 'opacity: 0;'
                });
                data.element.animate({
                    y2: {
                        dur: 800,  // Faster animation
                        from: data.chartRect.height(), // Start from bottom of the chart
                        to: data.y2,                   // End at calculated position
                        easing: Chartist.Svg.Easing.easeOutBounce
                    },
                    opacity: {
                        dur: 800,                     // Match with y2 animation duration
                        from: 0,                      // Start invisible
                        to: 1,                        // Fade in smoothly
                        easing: Chartist.Svg.Easing.easeInQuad
                    }
                });

                // Ensure bar stays visible after animation
                data.element.attr({
                    style: 'opacity: 1;'
                });
            }
        });
    }

    function animateLineChart(chart) {
        chart.on('draw', function(data) {
            // Animate line drawing from left to right
            if (data.type === 'line') {
                data.element.animate({
                    d: {
                        begin: 0,
                        dur: 1500,
                        from: data.path.clone().scale(0, 1).translate(data.chartRect.width(), 0).stringify(),
                        to: data.path.clone().stringify(),
                        easing: Chartist.Svg.Easing.easeOutQuint
                    }
                });
            }

            // Smoothly pop in points
            if (data.type === 'point') {
                data.element.animate({
                    x1: {
                        begin: data.index * 100,  // Sequential pop-in effect
                        dur: 500,
                        from: data.x - 20,
                        to: data.x,
                        easing: Chartist.Svg.Easing.easeOutBack
                    },
                    y1: {
                        begin: data.index * 100,
                        dur: 500,
                        from: data.y - 20,
                        to: data.y,
                        easing: Chartist.Svg.Easing.easeOutBack
                    },
                    opacity: {
                        begin: data.index * 100,
                        dur: 500,
                        from: 0,
                        to: 1,
                        easing: Chartist.Svg.Easing.easeOutBack
                    }
                });
            }

            // Animate area under the line
            if (data.type === 'area') {
                data.element.animate({
                    d: {
                        begin: 0,
                        dur: 1500,
                        from: data.path.clone().scale(0, 1).translate(data.chartRect.width(), 0).stringify(),
                        to: data.path.clone().stringify(),
                        easing: Chartist.Svg.Easing.easeOutQuint
                    }
                });
            }
        });
    }

    window.onload = function() {
        // Function to initialize and animate charts
        function initializeCharts() {
            const lineChartSelectors = [
                '.ct-chart-wt',
                '.ct-chart-cfd',
                '.ct-chart-smb',
                '.ct-chart-hstt',
                '.ct-chart-ct',
                '.ct-chart-lct'
            ];

            const lineChartData = [
                wt_data,
                cfd_data,
                smb_data,
                hstt_data,
                ct_data,
                lct_data
            ];

            lineChartSelectors.forEach((selector, index) => {
                document.querySelector(selector).innerHTML = ''; // Clear the container
                const chart = new Chartist.Line(selector, lineChartData[index], options);
                animateLineChart(chart);
            });
        }

        // Initial draw for all charts
        initializeCharts();

        // Redraw charts when the slide changes
        var carouselElement = document.querySelector('#carouselExampleIndicators');
        carouselElement.addEventListener('slid.bs.carousel', function() {
            initializeCharts();
        });
    };

    // WT Buttons
    document.querySelector("#year-wt").addEventListener("click", function() {
        document.querySelector("#month-wt").classList = "btn btn-sm btn-outline-secondary me-2";
        document.querySelector("#year-wt").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector('.ct-chart-wt').innerHTML = '';
        var chart = new Chartist.Bar('.ct-chart-wt', wt_data_year, options_bar);
        animateChart(chart);
    });

    document.querySelector("#month-wt").addEventListener("click", function() {
        document.querySelector("#year-wt").classList = "btn btn-sm btn-outline-secondary me-2";
        document.querySelector("#month-wt").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector('.ct-chart-wt').innerHTML = '';
        var chart = new Chartist.Line('.ct-chart-wt', wt_data, options);
        animateLineChart(chart);
    });

    // CFD Buttons
    document.querySelector("#year-cfd").addEventListener("click", function() {
        document.querySelector("#month-cfd").classList = "btn btn-sm btn-outline-secondary me-2";
        document.querySelector("#year-cfd").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector('.ct-chart-cfd').innerHTML = '';
        var chart = new Chartist.Bar('.ct-chart-cfd', cfd_data_year, options_bar);
        animateChart(chart);
    });

    document.querySelector("#month-cfd").addEventListener("click", function() {
        document.querySelector("#year-cfd").classList = "btn btn-sm btn-outline-secondary me-2";
        document.querySelector("#month-cfd").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector('.ct-chart-cfd').innerHTML = '';
        var chart = new Chartist.Line('.ct-chart-cfd', cfd_data, options);
        animateLineChart(chart);
    });

    // SMB Buttons
    document.querySelector("#year-smb").addEventListener("click", function() {
        document.querySelector("#month-smb").classList = "btn btn-sm btn-outline-secondary me-2";
        document.querySelector("#year-smb").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector('.ct-chart-smb').innerHTML = '';
        var chart = new Chartist.Bar('.ct-chart-smb', smb_data_year, options_bar);
        animateChart(chart);
    });

    document.querySelector("#month-smb").addEventListener("click", function() {
        document.querySelector("#year-smb").classList = "btn btn-sm btn-outline-secondary me-2";
        document.querySelector("#month-smb").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector('.ct-chart-smb').innerHTML = '';
        var chart = new Chartist.Line('.ct-chart-smb', smb_data, options);
        animateLineChart(chart);
    });

    // HSTT Buttons
    document.querySelector("#year-hstt").addEventListener("click", function() {
        document.querySelector("#month-hstt").classList = "btn btn-sm btn-outline-secondary me-2";
        document.querySelector("#year-hstt").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector('.ct-chart-hstt').innerHTML = '';
        var chart = new Chartist.Bar('.ct-chart-hstt', hstt_data_year, options_bar);
        animateChart(chart);
    });

    document.querySelector("#month-hstt").addEventListener("click", function() {
        document.querySelector("#year-hstt").classList = "btn btn-sm btn-outline-secondary me-2";
        document.querySelector("#month-hstt").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector('.ct-chart-hstt').innerHTML = '';
        var chart = new Chartist.Line('.ct-chart-hstt', hstt_data, options);
        animateLineChart(chart);
    });

    // CT Buttons
    document.querySelector("#year-ct").addEventListener("click", function() {
        document.querySelector("#month-ct").classList = "btn btn-sm btn-outline-secondary me-2";
        document.querySelector("#year-ct").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector('.ct-chart-ct').innerHTML = '';
        var chart = new Chartist.Bar('.ct-chart-ct', ct_data_year, options_bar);
        animateChart(chart);
    });

    document.querySelector("#month-ct").addEventListener("click", function() {
        document.querySelector("#year-ct").classList = "btn btn-sm btn-outline-secondary me-2";
        document.querySelector("#month-ct").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector('.ct-chart-ct').innerHTML = '';
        var chart = new Chartist.Line('.ct-chart-ct', ct_data, options);
        animateLineChart(chart);
    });

    // LCT Buttons
    document.querySelector("#year-lct").addEventListener("click", function() {
        document.querySelector("#month-lct").classList = "btn btn-sm btn-outline-secondary me-2";
        document.querySelector("#year-lct").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector('.ct-chart-lct').innerHTML = '';
        var chart = new Chartist.Bar('.ct-chart-lct', lct_data_year, options_bar);
        animateChart(chart);
    });

    document.querySelector("#month-lct").addEventListener("click", function() {
        document.querySelector("#year-lct").classList = "btn btn-sm btn-outline-secondary me-2";
        document.querySelector("#month-lct").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector('.ct-chart-lct').innerHTML = '';
        var chart = new Chartist.Line('.ct-chart-lct', lct_data, options);
        animateLineChart(chart);
    });

    // Function to reset all buttons when the carousel changes
    function resetButtons() {
        document.querySelector("#month-wt").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector("#year-wt").classList = "btn btn-sm btn-outline-secondary me-2";

        document.querySelector("#month-cfd").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector("#year-cfd").classList = "btn btn-sm btn-outline-secondary me-2";

        document.querySelector("#month-smb").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector("#year-smb").classList = "btn btn-sm btn-outline-secondary me-2";

        document.querySelector("#month-hstt").classList = "btn btn-sm btn-secondary me-2";
        document.querySelector("#year-hstt").classList = "btn btn-sm btn-outline-secondary me-2";

        document.querySelector("#month-ct").classList = "btn btn-sm btn-secondary me-2 ";
        document.querySelector("#year-ct").classList = "btn btn-sm btn-outline-secondary me-2 ";

        document.querySelector("#month-lct").classList = "btn btn-sm btn-secondary me-2 ";
        document.querySelector("#year-lct").classList = "btn btn-sm btn-outline-secondary me-2 ";
    }

    // Reset all the buttons when the carousel changes using the above function
    var carouselElement = document.querySelector('#carouselExampleIndicators');
    carouselElement.addEventListener('slid.bs.carousel', function() {
        resetButtons();
    });

    // Redraw charts when the slide changes
    var carouselElement = document.querySelector('#carouselExampleIndicators');
    carouselElement.addEventListener('slid.bs.carousel', function () {
        resetButtons();
    });

    // Initial draw for the active slide
  });

  </script>
<script src="{{ url_for('static', filename='assets/js/toastScript.js') }}"></script>
{% endblock javascripts %}